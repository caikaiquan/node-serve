(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8393c0e"],{"0b2a":function(t,e,o){},"4ef5":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"setting"},[o("Header"),o("div",{staticClass:"category-list"},[o("div",{staticClass:"category-title"},[t._v("类型管理：")]),o("div",{staticClass:"category-content"},t._l(t.categoryList,(function(e,a){return o("el-tag",{key:a,attrs:{closable:""},on:{close:function(o){return t.handleClose(e)}}},[t._v(t._s(e.categoryName)+" "+t._s(e.categoryId))])})),1)]),o("el-button",{staticClass:"add-category",attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("新增类型")]),o("el-dialog",{attrs:{title:"新增类型",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"类型名称"}},[o("el-input",{model:{value:t.form.categoryName,callback:function(e){t.$set(t.form,"categoryName","string"===typeof e?e.trim():e)},expression:"form.categoryName"}})],1),o("el-form-item",{attrs:{label:"类型id"}},[o("el-input",{model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId","string"===typeof e?e.trim():e)},expression:"form.categoryId"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.addCategory}},[t._v("确 定")])],1)],1)],1)},s=[],r=(o("4de4"),o("0418")),i={name:"setting",components:{Header:r["a"]},data:function(){return{categoryList:[],dialogFormVisible:!1,form:{categoryName:"",categoryId:""}}},created:function(){this.getCategoryList()},methods:{getCategoryList:function(){var t=this;this.$request("get","/blog/categoryList").then((function(e){"0000"===e.code&&(t.categoryList=e.list,console.log(e))})).catch((function(t){console.log(t)}))},addCategory:function(){var t=this;this.form.categoryName&&this.form.categoryId?(console.log(this.form),this.$request("post","/blog/add/category",this.form).then((function(e){"0000"===e.code?(t.$message.success(e.msg),t.dialogFormVisible=!1,t.form.categoryName="",t.form.categoryId="",t.getCategoryList()):t.$message.error(e.msg)})).catch((function(e){t.$message.error(res.msg||"操作失败")}))):this.$message.error("缺少必要参数")},handleClose:function(t){var e=this;this.$request("post","/blog/delete/category",t).then((function(o){console.log(o),"0000"===o.code&&(e.categoryList=e.categoryList.filter((function(e){return e.categoryName!==t.categoryName})),e.$message.success(o.msg))})).catch((function(t){console.log(t)}))}}},c=i,n=(o("a299"),o("2877")),l=Object(n["a"])(c,a,s,!1,null,null,null);e["default"]=l.exports},a299:function(t,e,o){"use strict";var a=o("0b2a"),s=o.n(a);s.a}}]);